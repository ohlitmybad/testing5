<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.535, user-scalable=no"">
	<meta name="robots" content="noindex">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

<style>
/* Your existing CSS styles */
</style>
</head>

<body>
<script type="text/javascript">document.body.style.visibility="hidden";</script>
<div id="SFctr" data-org="31002" data-mfl="64c215764c0b6076026762a3"><div style="clear:both"></div></div>
<script type="text/javascript" src="https://cdn.membershipworks.com/mfl.js"></script>

    <div class="spinner" id="spinner">
  <div class="spinner-icon"></div>
</div>
<div class="loading-container" id="loadingContainer">
  <div class="loading-text">Loading data...</div>
  <div class="loading-bar">
    <div class="loading-progress"></div>
  </div>
</div>
  <div class="combo-box">
    <input type="text" id="searchInput" class="search-bar" placeholder="Search for a player...">
    <div class="custom-dropdown">
      <select id="playerSelect" class="search-bar">
        <option value="" disabled selected></option>
        <!-- Options will be dynamically added here -->
      </select>
    </div>
  </div>
  
  <select id="sectionSelect" class="select-style">
  </select>
  
  <select id="ageSelect" class="select-age">
      <option value="" selected>Age</option>
        <option value="17">U17</option>
        <option value="18">U18</option>
        <option value="19">U19</option>
        <option value="20">U20</option>
        <option value="21">U21</option>
        <option value="22">U22</option>
        <option value="23">U23</option>
        <option value="24">U24</option>
        <option value="25">U25</option>
        <option value="26">U26</option>
        <option value="27">U27</option>
        <option value="28">U28</option>
        <option value="29">U29</option>
        <option value="30">U30</option>
        <option value="35">U35</option>
        <!-- Add more age options as needed -->
    </select>
    <div class="toggle-button">
      <input type="checkbox" id="toggleMetrics" checked> <!-- Add checked attribute here -->
        <label for="toggleMetrics"></label>
    </div>
    <div class="toggleSortingButton">
      <input type="checkbox" id="toggleSortingButton" checked> <!-- Add checked attribute here if needed -->
      <label for="toggleSortingButton"></label>
    </div>
    <div id="chartTitle"></div>
    <div id="fullcontainer">
        <div id="chartButton"></div>
    <div id="chartContainer">
        <canvas id="pizzaChart"></canvas>
    </div>
    <div id="results"></div></div>

    <script>
        // Function to check if the user is logged in
        function checkLoginStatus() {
            // Assuming MembershipWorks plugin provides a way to check login status
            if (typeof MFL !== 'undefined' && MFL.isLoggedIn()) {
                // User is logged in, load main.js
                loadMainJS();
            } else {
                // User is not logged in, redirect to login page or show a message
                alert('Please log in to access this page.');
                window.location.href = '/login'; // Redirect to login page
            }
        }

        // Function to load main.js
        function loadMainJS() {
            var script = document.createElement('script');
            script.src = 'main.js';
            document.body.appendChild(script);
        }

        // Call the checkLoginStatus function when the MembershipWorks plugin is loaded
        document.addEventListener('DOMContentLoaded', function() {
            checkLoginStatus();
        });
    </script>
</body>
</html>
