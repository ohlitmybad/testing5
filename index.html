

<!DOCTYPE html>
<html>
<head>	
  
  <meta name="viewport" content="width=device-width, user-scalable=no">
  <title>AZ Football Stats and Visuals | DataMB</title>
  <link rel="shortcut icon" type="image/x-icon" href="https://datamb.football/favicon.ico">
  <meta name="description" content="AZ 2024/25 data profile compared to other teams in Europe's Top 7 Leagues. Check out AZ statistics with our radar chart and plots, or compare AZ to other teams using our data comparison tool.">
  <meta property="og:image" content="https://datamb.football/vignettes/teamprofile.png">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@DataMB_">
  <meta name="twitter:title" content="AZ | DataMB">
  <meta name="twitter:image" content="https://datamb.football/vignettes/teamprofile.png">
  <script>
    (function() {
        var width = window.innerWidth;
        var viewportMeta = document.querySelector('meta[name="viewport"]');
        if (viewportMeta) {
  if (width < 681) {
          
        var initialScale = width / 681;
  viewportMeta.setAttribute('content', 'width=device-width, initial-scale=' + initialScale + ', user-scalable=no');
  } else {
              var fixedScale = 1;
    viewportMeta.setAttribute('content', 'width=device-width, initial-scale=' + fixedScale + ', user-scalable=no');
  
    }
      } 
  })();
  </script>
<link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
<script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
<script src="https://d3js.org/d3.v5.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>


<style>

  
  /* BASIC STYLE ELEMENTS BELOW */
    
    
  svg text.label {
      fill: #bcbcbc;
    }
  
  
  
    td.black {
      color: black !important;
    }
    td.red {
      color: red !important;
    }
    td.green {
      color: green !important;
    }
  text {
    font-family: Arial;
  }
  
  .result-color-blue {
    color: #3062FB !important;
    stroke: #3062FB;
    fill: #3062FB;
    fill-opacity: 0.02;
  }
  
  
  
  .radar-button {
    position:relative;
    left:-5px;
    align-items: center;
    background-color: #FFFFFF;
    border: 4px solid #135eb6; /* Add a border */
    border-radius: 35px;
    color: #0b57d0;
    width: 145px;
    height: 58px;
    cursor: pointer;
    font-size: 14px;
    font-family: 'Open Sans', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif;
  
  }
  
  .plot-button {
    position:relative;
    left:40px;
    align-items: center;
    background-color: #FFFFFF;
    border: 4px solid #135eb6; /* Add a border */
    border-radius: 35px;
    color: #0b57d0;
    width: 145px;
    height: 58px;
    font-size: 14px;
    cursor: pointer;
    font-family: 'Open Sans', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif;  
  }
  
  
        
  .metrics-table th {
    background-color: #ececec;
    color: #444444;
    font-weight: bold;
    padding: 9px;
    text-align: left;
  }
  
  .metrics-table td {
    padding: 9px;
    border: 1px solid #ccc;
  }
  
  .metrics-table tr:nth-child(even) {
    background-color: #f2f2f2;
  }
  
  .metrics-table tr:hover {
    background-color: #ddd;
  }
  .metrics-table tr:first-child td {
    font-size: 20px;
  }
  

  #output a {
    text-decoration: none; /* Remove underlining */
    color: #3062FB; /* Set link color to purple */
  }
  #metrics-table a {
    text-decoration: none; /* Remove underlining */
    color: purple; /* Set link color to purple */
  }

  

  

  /* FUNCTIONAL STYLE ELEMENTS BELOW */


  
  svg:nth-of-type(1) {
  height: 485px;
}
  


.metrics-table {
    width: 520px;
    font-family:'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
    border-collapse: collapse;
  }
  
    #output {  
    background-color: #FFFFFF; /* Background color */
    padding: 15px; /* Add some padding */
    border: 4px solid #c4eed1; /* Add a border */
    border-radius: 12px; /* Add rounded corners */
    font-size: 17px; /* Set the font size */
    width: 300px;
    color: #333; /* Text color */
    font-family: Arial, sans-serif; /* Choose a font-family */
    text-align: center; /* Center-align text */
    line-height: 1.5; /* Set line height */
  }
  
  /* Ensure the container is centered and elements are responsive */
.container {
  display: flex;
  flex-direction: column; /* Stack elements vertically */
  justify-content: center;
  align-items: center; /* Center elements horizontally */
  width: 100%; /* Allow the container to take up full width */
  margin: 0 auto; /* Center the container itself */
}

/* For rows that should have elements side by side */
.desktop-row {
  display: flex;
  justify-content: center; /* Center the row contents */
  align-items: flex-start; /* Align elements to the top, preventing height stretching */
  flex-wrap: wrap; /* Allow wrapping on smaller screens */
  width: 100%;
  margin: 20px 0;
}

.radar-wrapper {
  position: relative;
top: 45px;
}

.scatter-plot-wrapper {
  position: relative;
top: 22px;
left: 42px;
}

/* Limit the width of individual elements and center them */
.metric-table, .radar-wrapper, .scatter-plot-wrapper {
  flex: 1;
  min-width: 300px;
  max-width: 550px; /* Ensure no element exceeds 485px */
  margin: 0px 40px;
  align-self: center; /* Ensure the element itself is centered */
  text-align: center; /* Center text or content inside the div */
}

.output {
  flex: 1;
  max-width: 300px;
    align-self: center; /* Ensure the element itself is centered */
  text-align: center; /* Center text or content inside the div */
}

.scatter-plot {
  max-height: 400px; /* Keep aspect ratio */
  max-width: 100%; /* Ensure it scales down on smaller screens */
}

/* Limit the width of the radar SVG */
.radar {
  width: 485px;
  height: auto; /* Keep aspect ratio */
  max-width: 100%; /* Ensure it scales down on smaller screens */
}

/* Wrapper for radar and button */
.radar-wrapper, .scatter-plot-wrapper {
  display: flex;
  flex-direction: column;
  align-items: center; /* Center the content inside the wrapper */
}

/* Ensure the buttons are centered below their respective elements */
.radar-button, .plot-button {
  text-align: center; /* Ensure the buttons are centered */
}

/* Mobile-specific layout: Stack elements vertically */
@media only screen and (max-width: 1048px) {
  .desktop-row {
    flex-direction: column; /* Stack elements vertically on smaller screens */
  }


    .metric-table, .radar-wrapper, .scatter-plot-wrapper, .output {

  margin: 20px 40px;

}

.scatter-plot-wrapper {

top: 12px;
left: -20px

}
.radar-wrapper {

top: 0px;
left: 10px

}
.plot-button {
    position:relative;
    left:30px;
  }
}

  

  /* IGNORE THESE STYLE ELEMENTS */

  
  .search-container {
              position: relative;
              display: inline-block;
          }
  
          
          #searchButton {
      padding: 10px;
      background-color: #0074d9;
      color: #fff;
      border: none;
      width: 40px; /* Set the width and height to the same value for a round button */
      height: 40px;
      border-radius: 50%; /* Make the button round by setting border-radius to 50% of the size */
      cursor: pointer;
      font-size: 20px; /* Increase the text size */
  }
  
  
  .search-input-modal {
      display: none;
      position: fixed; /* Change this to "fixed" to cover the entire viewport */
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7); /* Increase opacity for better obscuring */
      z-index: 999; /* Ensure it's above other elements */
  }
  
  .search-input-container {
      position: absolute;
      top: 30%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: #fff;
      padding: 20px;
      border-radius: 4px;
      z-index: 1000; /* Make sure it's on top of the modal background */
  }
  
          
  #searchInput {
              width: 340px;
              padding: 12px;
              border: 3px solid #ccc;
              border-radius: 4px;
              font-size: 19px;
              outline: none;
          }
  
          #autocompleteBox {
              width: 360px;
              max-height: 150px;
              overflow-y: auto;
              background-color: #fff;
          }
  
  
          #autocompleteBox ul {
              list-style: none;
              padding: 0;
              margin: 0;
          }
  
          #autocompleteBox li {
              margin: 0;
              padding: 5px;
          }
  
          #autocompleteBox {
              line-height: 2; /* Adjust the value as needed to control line spacing */
              text-align: center !important;
  
          }
  
          #autocompleteBox a {
              text-decoration: none;
              font-family: Arial, sans-serif;
              text-align: center !important;
              color: #333 !important;
              cursor: pointer; /* Add pointer cursor style to the anchor element */
          }
  
          #autocompleteBox li:hover {
              background-color: #F0F0F0;
          }
  
  
  body {
    margin: 0 auto;
  }
  
  
  body, html {
  
  background-color: #ffffff !important;
  }
  .header {
    font-family: system-ui;
    padding: 20px;
    text-align: center;
    color: #fff;
    display: flex;
    align-items: center;
    justify-content: space-between;
  background: #ececec;
  }
  
  .header .logo {
    display: flex;
    align-items: center;
  }
  
  .header .logo img {
    width: 40px;
    height: 40px;
  opacity: 0.84;
  }
  
  .header .logo-text {
    margin-left: 10px;
    font-size: 20px;
  color: #444444;
    font-weight: 600;
  }
  
  .header .navigation {
    display: center;
    align-items: center;
    word-spacing: 1.3em; /* Adjust the spacing as needed */
  }

  @media only screen and (min-width: 1048px) {
    .header .navigation a:first-child {
      margin-left: 100px; /* Adjust the margin as needed */
    }
  }
  
  .header .button {
    margin: 0 10px;
    padding: 0px 20px;
    color: #444444;
    text-decoration: none;
    border-radius: 0px;
  font-size: 18px;
  }
  
  header a {
        color: #444444;
        text-decoration: none;
  
      }
  
  .header .twitter-link svg {
    width: 25px;
    height: 24px;
    fill: #444444;
  }
  
  
  #searchInput1 {
  display: none;
  }
  
  
  
  
  #searchButton1 {
    display: none;
  
  }
  
  
  
  #twitterSvg {
    position: relative !important;
    top: 0 !important;
    left: 0 !important;
    width: 25px !important;
    height: 24px !important;
  }
  
  
  #select-league {
    display: none;
  }
  
  
  #select-x,
  #select-y {
    display: none;
  }
  
  
  .footer {
    font-family: system-ui;
    background: #F2F2F2;
    padding: 20px;
    text-align: center;
    color: #fff;
  }
  
  .footer {
    left: 0;
    right: 0;
    bottom: 0;
  }
  
  .footer .logo {
    display: flex;
    justify-content: center;
  }
  
  .footer .description {
    font-size: 20px;
    margin-bottom: 0px;
  color: black;
  }
  
  .footer .info {
    font-size: 16px;
    opacity: 0.8;
  }
  
  .footer .divider {
    border: none;
    border-bottom: 1px solid #fff;
    margin: 25px 0;
    opacity: 0.2;
  }
  
  .footer .sub-footer {
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  
  .footer .sub-footer .terms,
  .footer .sub-footer .privacy,
  .footer .sub-footer .glossary {
  font-size: 17px;
    margin-left: 10px;
    text-decoration: none;
    color: black;
  }
  
  .logo img {
    width: 50px;
    height: 50px;
  }
  
  
  
  .footer-content {
    display: flex;
    justify-content: space-between;
    align-items: flex-start; /* Align items at the top */
    flex-wrap: wrap; /* Add flex-wrap property to wrap the content on smaller screens */
  }
  
  .google-play-container {
    display: flex;
    flex-direction: column; /* Arrange items in a column */
    align-items: flex-end; /* Align items to the right */
    margin-top: -20px; /* Adjust the margin-top to remove the space */
  }
  
  .google-play-container img {
    width: 182px;
    height: 70px;
  }
  
  .description,
  .info,
  .divider,
  .sub-footer {
    flex-basis: 100%;
  color: black;
  }
  
  .footer p {
    margin-bottom: 0; 
  }
  

.footer .twitter-link svg {
  width: 25px;
  height: 24px;
  fill: #444444;
}

.header-row {
    color: #3a3a3a; /* Text color */
    font-size: 20px; /* Adjust the font size */
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    margin-bottom: 20px; /* Add some margin to separate it from the player rows */
    /* Add any other styles you want for the header row */
    border-bottom: 2px solid #3a3a3a; /* Add border with desired thickness and color */
  }

  </style>
  <header class="header">
    <div class="logo">
      <a href="http://datamb.football">
          <img src="https://i.imgur.com/UurMbGS.png" alt="AZ statistics and data visuals. AZ compared to top 7 league teams in 2024/25. AZ club data profile, team radar comparison and plot chart" /></a>
      <div class="logo-text"><a href="http://datamb.football">DataMB</a></div>
    </div>
    <nav class="navigation">
      <a href="http://datamb.football/teamradars/" class="button">Compare</a>
      <a href="http://datamb.football/plotteam/" class="button">Plot</a>
      <a href="http://datamb.football/join/" class="button">Pro</a>
    </nav>
    <div class="search-container">
      <button id="searchButton"><iconify-icon icon="ion:search-outline"></iconify-icon></button>
  </div>
    <a href="https://twitter.com/datamb_" target="_blank" class="twitter-link">
      <svg id="twitterSvg" width="25" height="24" fill="#bcbcbc" xmlns="http://www.w3.org/2000/svg">
        <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" />
      </svg>
    </a>
  </header>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7677714701428206"
     crossorigin="anonymous"></script>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.16.9/xlsx.full.min.js"></script>

</head>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-PSBMXX80EF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-PSBMXX80EF');
</script>

<body>

<div class="search-input-modal" id="searchInputModal">
<div class="search-input-container">
    <input type="text" id="searchInput" placeholder="Enter a team or player name...">
    <div id="autocompleteBox"></div>
</div>
</div>


<script>
  
  const xhr2 = new XMLHttpRequest();
  xhr2.open('GET', 'https://datamb.football/database/searchbar.csv', false); // false for synchronous request
  xhr2.send(null);
  
  let dataCSV = xhr2.responseText;

const _0x1cda9d=_0x3279;(function(_0x3d1616,_0x106f05){const _0x561e6e=_0x3279,_0x2e8a41=_0x3d1616();while(!![]){try{const _0x282d7f=-parseInt(_0x561e6e(0x1a1))/0x1+parseInt(_0x561e6e(0x18f))/0x2*(-parseInt(_0x561e6e(0x195))/0x3)+-parseInt(_0x561e6e(0x18b))/0x4+-parseInt(_0x561e6e(0x1a2))/0x5+-parseInt(_0x561e6e(0x19a))/0x6+parseInt(_0x561e6e(0x188))/0x7*(-parseInt(_0x561e6e(0x19d))/0x8)+parseInt(_0x561e6e(0x191))/0x9*(parseInt(_0x561e6e(0x19b))/0xa);if(_0x282d7f===_0x106f05)break;else _0x2e8a41['push'](_0x2e8a41['shift']());}catch(_0x219362){_0x2e8a41['push'](_0x2e8a41['shift']());}}}(_0x113e,0x28c6f));const dataLines=dataCSV[_0x1cda9d(0x199)]('\x0a'),searchButton=document[_0x1cda9d(0x18a)](_0x1cda9d(0x182)),searchInputModal=document[_0x1cda9d(0x18a)]('searchInputModal'),searchInput=document[_0x1cda9d(0x18a)]('searchInput'),autocompleteBox=document[_0x1cda9d(0x18a)](_0x1cda9d(0x18c)),data1=dataLines[_0x1cda9d(0x18e)](_0x2eff42=>{const [_0x577075,_0x1d5918]=_0x2eff42['split'](',');return{'name':_0x577075,'link':_0x1d5918};});function _0x113e(){const _0x254e59=['trim','getElementById','274776cBvuqt','autocompleteBox','link','map','442SSdBdl','length','1620naLciC','block','includes','name','4038eTYCsb','createElement','replace','href','split','327870eYOUMc','53290VqPTPN','div','8696OyNMkN','target','appendChild','style','53872WUKLzq','603865uRsUWF','display','click','input','addEventListener','searchButton','none','toLowerCase','forEach','filter','textContent','1267oKEowq'];_0x113e=function(){return _0x254e59;};return _0x113e();}function removeDiacritics(_0x521617){return _0x521617['normalize']('NFD')['replace'](/[\u0300-\u036f]/g,'');}function search2(_0x20c915){const _0x2d8964=_0x1cda9d;autocompleteBox['innerHTML']='';const _0x25dc8b=removeDiacritics(_0x20c915)[_0x2d8964(0x197)](/[^\w\s]/g,'')[_0x2d8964(0x184)](),_0x4c0cab=data1[_0x2d8964(0x186)](_0x122915=>{const _0x3f413e=_0x2d8964,_0x19a3ab=removeDiacritics(_0x122915[_0x3f413e(0x194)])[_0x3f413e(0x197)](/[^\w\s]/g,'')[_0x3f413e(0x184)]();return _0x19a3ab[_0x3f413e(0x193)](_0x25dc8b);});if(_0x4c0cab[_0x2d8964(0x190)]===0x0){autocompleteBox[_0x2d8964(0x1a0)][_0x2d8964(0x1a3)]='none';return;}_0x4c0cab[_0x2d8964(0x185)](_0x548088=>{const _0xc8b0f0=_0x2d8964,_0xaae7d=document[_0xc8b0f0(0x196)](_0xc8b0f0(0x19c)),_0x25de77=document[_0xc8b0f0(0x196)]('a');_0x25de77[_0xc8b0f0(0x198)]=_0x548088[_0xc8b0f0(0x18d)],_0x25de77[_0xc8b0f0(0x187)]=_0x548088[_0xc8b0f0(0x194)],_0xaae7d[_0xc8b0f0(0x19f)](_0x25de77),autocompleteBox[_0xc8b0f0(0x19f)](_0xaae7d);}),autocompleteBox[_0x2d8964(0x1a0)][_0x2d8964(0x1a3)]=_0x2d8964(0x192);}function _0x3279(_0xecdda4,_0x35cb52){const _0x113ead=_0x113e();return _0x3279=function(_0x32790c,_0x3803af){_0x32790c=_0x32790c-0x182;let _0x4b6796=_0x113ead[_0x32790c];return _0x4b6796;},_0x3279(_0xecdda4,_0x35cb52);}searchButton[_0x1cda9d(0x1a6)](_0x1cda9d(0x1a4),()=>{const _0x2900c9=_0x1cda9d;searchInputModal[_0x2900c9(0x1a0)][_0x2900c9(0x1a3)]=_0x2900c9(0x192);}),searchInput[_0x1cda9d(0x1a6)](_0x1cda9d(0x1a5),()=>{const _0xa04743=_0x1cda9d,_0x40b10d=searchInput['value'];_0x40b10d[_0xa04743(0x189)]()===''?autocompleteBox[_0xa04743(0x1a0)][_0xa04743(0x1a3)]='none':search2(_0x40b10d);}),document[_0x1cda9d(0x1a6)](_0x1cda9d(0x1a4),_0x4eaaf3=>{const _0x505703=_0x1cda9d;_0x4eaaf3[_0x505703(0x19e)]===searchInputModal&&(searchInputModal[_0x505703(0x1a0)]['display']=_0x505703(0x183));});
</script>

<div class="container">
  <!-- First row: Metric table and radar SVG with radar-button -->
  <div class="desktop-row">
    <div id="resultsTable" class="metric-table"></div>

    <!-- Wrapper for radar SVG and button -->
    <div class="radar-wrapper">
      <svg class="radar"><g transform="translate(231.77,225.77)"><g class="axisWrapper">
        <g class="radar_label">
          <text class="label" data-type="Aerial%" data-idx="0" transform="translate(-40 -196.04) scale(1.3) rotate(-1.7)">Aerial%</text>
      </g>
      <g class="radar_label">
          <text class="label" data-type="Long%" data-idx="6" transform="matrix(0.65, -1.118, 1.118, 0.65, -180.21, -87.83) rotate(5.5)">Duel%</text>
      </g>
      <g class="radar_label">
          <text class="label" data-type="Passes" data-idx="5" transform="matrix(-0.494, -1.209, 1.209, -0.494, -173, 107.54) rotate(3.87)">Def Actions</text>
      </g>
      <g class="radar_label">
          <text class="label" data-type="Exits" data-idx="4" transform="translate(-140.12 171.1) scale(1.3) rotate(21)">Prog Passes</text>
      </g>
      <g class="radar_label">
          <text class="label" data-type="Aerial" data-idx="3" transform="translate(71.82 206.54) scale(1.3) rotate(-31)">Fwd Pass%</text>
      </g>
      <g class="radar_label">
          <text class="label" data-type="Def Actions" data-idx="2" transform="translate(200.22 6.30) scale(1.3) rotate(99.11)">Passes</text>
      </g>
      <g class="radar_label">
          <text class="label" data-type="Shotstopping" data-idx="1" transform="translate(128.74 -157.65) scale(1.3) rotate(52.49)">Carrying</text>
      </g>
      <circle class="blackCircle" r="190" style="fill:none; stroke:#D3D3D3; stroke-width:1;"></circle>
      <circle class="gridCircle" r="190" style="fill: rgb(16, 135, 188); fill-opacity: 0.03;"></circle>
      <circle class="gridCircle" r="160" style="fill: rgb(16, 135, 188); fill-opacity: 0.03;"></circle>
      <circle class="gridCircle" r="120" style="fill: rgb(16, 135, 188); fill-opacity: 0.03;"></circle>
      <circle class="gridCircle" r="80" style="fill: rgb(16, 135, 188); fill-opacity: 0.03;"></circle>
      <circle class="gridCircle" r="40" style="fill: rgb(16, 135, 188); fill-opacity: 0.03;"></circle>
      <line x1="0" y1="0" x2="9.33" y2="189.4543362" stroke="#D3D3D3" stroke-width="1" transform="translate(-9.33, -189.4543362)"></line>
      <line x1="0" y1="0" x2="-142.0538533333333" y2="126.24" stroke="#D3D3D3" stroke-width="1" transform="translate(141.74184, -126.24)"></line>
      <line x1="0" y1="0" x2="-187.31589333333332" y2="-32.31413333333333" stroke="#D3D3D3" stroke-width="1" transform="translate(187.5574112, 32.2528)"></line>
      <line x1="0" y1="0" x2="-91.84497333333333" y2="-166.92245333333333" stroke="#D3D3D3" stroke-width="1" transform="translate(91.84497333333333, 166.21328)"></line>
      <line x1="0" y1="0" x2="72.99733333333333" y2="-175.84917333333335" stroke="#D3D3D3" stroke-width="1" transform="translate(-72.99997333333334, 175.334068)"></line>
      <line x1="0" y1="0" x2="182.73258666666666" y2="-52.67472" stroke="#D3D3D3" stroke-width="1" transform="translate(-182.7209384, 52.480128)"></line>
      <line x1="0" y1="0" x2="154.67849333333334" y2="109.91788799999999" stroke="#D3D3D3" stroke-width="1" transform="translate(-154.6883792222, -110.017215488)"></line>
      <g class="radarWrapper"></g>
      </g></g></svg>      <a href="https://datamb.football/teamradars/">
        <button class="radar-button">Compare teams</button>
      </a>
    </div>
  </div>

  <!-- Second row: Output and scatter plot with plot-button -->
  <div class="desktop-row">
    <div id="output" class="output"></div>

    <!-- Wrapper for scatter plot and button -->
    <div class="scatter-plot-wrapper">
      <svg id="scatter-plot" class="scatter-plot"></svg>
      <a href="https://datamb.football/plotteam/">
        <button class="plot-button">Plot more metrics</button>
      </a>
    </div>
  </div>
</div>


        
<select id="select-league" onchange="updateChart()">
  <option value="all">Top 7 Leagues</option>
  <option value="Premier League">Premier League</option>
  <option value="La Liga">La Liga</option>
  <option value="Bundesliga">Bundesliga</option>
  <option value="Serie A">Serie A</option> 
  <option value="Ligue 1">Ligue 1</option>
  <option value="Primeira Liga">Primeira Liga</option>
  <option value="Eredivisie">Eredivisie</option>
  </select>
  
<input type="text" id="searchInput1" class="search-bar" placeholder=""/>
<input type="button" id="searchButton1" value=""/>
<center><br>

  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7677714701428206"
       crossorigin="anonymous"></script>
  <!-- radarplotsearch -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-7677714701428206"
       data-ad-slot="6673239737"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({});
  </script> <br></center>


<script>
  
  
  const csvData = '1,AZ,vs Top 7 League teams,2024/25,Eredivisie,0.855,0.903,0.731,0.817,0.943,0.63,0.71';  



  const dataArray = csvData.split('\n').map(line => line.split(','));

  const colorClasses = ['result-color-blue'];
  
  let searchResults = []; // Declare the search results variable
  
  
  function removeSpecialChars(str) {
    return str.normalize('NFD').replace(/[\u0300-\u036f\s]/g, '');
  }
  
  function search(query) {
    const results = dataArray.filter(data =>
      removeSpecialChars(data[1].toLowerCase()).includes(removeSpecialChars(query.toLowerCase()))
    );
    return results;
  }
  
  function createTable(teamName, teamIndex, color) {
    const resultsTable = document.getElementById('resultsTable');
    const headerNames = [
      '',
      '',
      '',
      'Season',
      'League',
      'Goals',
      'Attacking',
      'Possession',
      'Counters',
      'Defending',
      'Physicality',
      'Pressing'

          ];

    
  
    // Check if table headers exist
    const headersExist = resultsTable.querySelector('th') !== null;
  
    const table = headersExist ? resultsTable.querySelector('table') : document.createElement('table');
    table.classList.add('metrics-table');
  
    if (!headersExist) {
      // Create the table header
      const headerRow = document.createElement('tr');
      for (let i = 0; i < headerNames.length; i++) {
        const th = document.createElement('th');
        th.textContent = headerNames[i];
        headerRow.appendChild(th);
      }
    }
  
    const teamData = dataArray[teamIndex];
    for (let i = 1; i < headerNames.length; i++) {
      const dataRow = document.createElement('tr');
      const td1 = document.createElement('td');
      td1.textContent = headerNames[i];
      dataRow.appendChild(td1);
      
      const td2 = document.createElement('td');
      let value = teamData[i];
    

        if (i >= 5 && i <= 11) {
          value = parseFloat(value) * 100;
          const roundedValue = Math.round(value);
          const lastDigit = roundedValue % 10;
          let percentileSuffix = 'th';
          if (lastDigit === 1 && roundedValue !== 11) {
            percentileSuffix = 'st';
          } else if (lastDigit === 2 && roundedValue !== 12) {
            percentileSuffix = 'nd';
          } else if (lastDigit === 3 && roundedValue !== 13) {
            percentileSuffix = 'rd';
          }
          value = roundedValue + percentileSuffix + ' percentile';
        }
    
        if ([1, 2, 3, 4].includes(i)) {
          td2.classList.add('black'); // Add the black class
        }
        
        td2.textContent = value;
        td2.classList.add(color);
    
        // Apply color based on value range
        const numericValue = parseFloat(value);
        if (numericValue >= 75 && numericValue <= 100) {
          td2.classList.add('green');
        } else if (numericValue >= 0 && numericValue <= 25) {
          td2.classList.add('red');
                }
      
    
      dataRow.appendChild(td2);
      table.appendChild(dataRow);
    }
    
if (!headersExist) {
  resultsTable.appendChild(table);
}
  
    const combResults = dataArray[teamIndex].join(', ');
    console.log(combResults);
  
    const outerRadius = 190;
    const center = [0, 0];
    const angles = [
      0,
      (2 * Math.PI) / 7,
      (4 * Math.PI) / 7,
      (6 * Math.PI) / 7,
      (8 * Math.PI) / 7,
      (10 * Math.PI) / 7,
      (12 * Math.PI) / 7
    ];
  
    function axisValueToCartesian(axis, value) {
      let angle = angles[axis - 1];
      angle += (2 * Math.PI / 7) * 0.2;
      const x = 190 * value * Math.cos(angle);
      const y = 190 * value * Math.sin(angle);
      return { x, y };
    }
  
    const svg = document.querySelector('.radar');
    const radarWrapper = svg.appendChild(
      document.createElementNS('http://www.w3.org/2000/svg', 'g')
    );
    radarWrapper.setAttribute('transform', 'translate(231.77,225.77)');
    radarWrapper.innerHTML = '';
  
    const data = [];
    const rowCols = combResults.split(',');
    for (let i = 5; i < 12; i++) {
      data.push({ axis: i - 4, value: parseFloat(rowCols[i]) });
    }
  
    const points = data
      .map(({ axis, value }) => {
        const { x, y } = axisValueToCartesian(axis, value);
        return `${x},${y}`;
      })
      .join(' ');
  
    const polyline = document.createElementNS(
      'http://www.w3.org/2000/svg',
      'polyline'
    );
    polyline.setAttribute('class', `radarLines ${color}`);
    polyline.setAttribute('points', `${points} ${points.split(' ')[0]}`);
    polyline.setAttribute('stroke-width', '3');
    polyline.setAttribute('fill', 'none');
    radarWrapper.appendChild(polyline);
  
    const polygon = document.createElementNS(
      'http://www.w3.org/2000/svg',
      'polygon'
    );
    polygon.setAttribute('class', `radarPolygon ${color}`);
    polygon.setAttribute('points', points);
    polygon.style.fillOpacity = '0.2';
    radarWrapper.appendChild(polygon);
  
    data.forEach(({ axis, value }) => {
      const { x, y } = axisValueToCartesian(axis, value);
      const circle = document.createElementNS(
        'http://www.w3.org/2000/svg',
        'circle'
      );
      circle.setAttribute('class', `radarCircle ${color}`);
      circle.style.fillOpacity = '0.86';
      circle.setAttribute('r', '6');
      circle.setAttribute('cx', x);
      circle.setAttribute('cy', y);
      radarWrapper.appendChild(circle);
    });
  }
  
  
  
  function toggleFilling() {
    const radarPolygons = document.querySelectorAll('.radarPolygon');
    radarPolygons.forEach(polygon => {
      polygon.style.fill = polygon.style.fill ? '' : 'none'; // Toggle the filling
    });
  }
  
  
    const teamNames = new Set();
  
  
  function createTableForTeam1() {
    const searchInput1 = document.getElementById('searchInput1');
    const searchButton1 = document.getElementById('searchButton1');
    const resultsTable = document.getElementById('resultsTable');
    const teamNamesList = document.createElement('ul');
    teamNamesList.style.fontFamily = 'Arial, sans-serif';
    teamNamesList.style.listStyleType = 'none';
    teamNamesList.style.paddingLeft = '9px';
    resultsTable.appendChild(teamNamesList);
    let searchCounter = 0;
  
    searchButton1.addEventListener('click', function () {
      const searchQuery = searchInput1.value;
      const results = search(searchQuery);
  
      // Reset the toggle state before performing a new search
      const radarPolygons = document.querySelectorAll('.radarPolygon');
      radarPolygons.forEach(polygon => {
        polygon.style.fill = '';
      });
  
      if (results) {
        const teamId = parseInt(results[0]);
        const teamName =
          results[1] + ' (' + results[2] + ', ' + results[3] + ') - ' + results[11] + ' min';
        const color = colorClasses[searchCounter % colorClasses.length];
  
        createTable(teamName, teamId - 1, color);
  
        searchCounter++;
      }
    });
  }
  
  createTableForTeam1();
  searchButton1.click(); // Trigger the search button click event

  
</script>

<script>


  // Your special characters dictionary and translation table
  const special_characters = {
      'á': 'a', 'à': 'a', 'â': 'a', 'ä': 'a', 'å': 'a',
      'é': 'e', 'è': 'e', 'ê': 'e', 'ë': 'e',
      'í': 'i', 'ì': 'i', 'î': 'i', 'ï': 'i',
      'ó': 'o', 'ò': 'o', 'ô': 'o', 'ö': 'o', 'ø': 'o',
      'ú': 'u', 'ù': 'u', 'û': 'u', 'ü': 'u',
      'ç': 'c', 'ñ': 'n',
      'ß': 'ss', 'æ': 'ae', 'œ': 'oe'
      // Add other special characters and their replacements here
  };

  // Create a translation table using the special_characters dictionary
  const translation_table = new Map(Object.entries(special_characters));

  function clean_and_replace(text) {
    // Remove leading/trailing spaces
    text = text.trim();
  
    // Replace known special characters with their corresponding values from the translation table
    text = text.replace(/[áàâäåéèêëíìîïóòôöøúùûüçñßæœ]/g, (match) => translation_table.get(match) || '_');
  
    // Replace spaces and other non-alphanumeric characters with underscores
    text = text.replace(/[^a-zA-Z0-9]+/g, '_');
  
    return text;
  }

  // Function to generate the link based on player's name and position
  function generatePlayerLink(player) {
      const cleanedName = clean_and_replace(player[0]);
      const cleanedPosition = clean_and_replace(player[1]);
      return `https://datamb.football/${cleanedName}_${player[1]}_stats/`;
  }

  function filterPlayers() {
    const selectedTeam = 'AZ'; // Change to the desired team
    const xhr = new XMLHttpRequest();
    xhr.open('GET', 'https://datamb.football/database/playerforteam.csv', false); // false for synchronous request
    xhr.send(null);
    
    let csv = xhr.responseText;



      Papa.parse(csv, {
        header: false,
        skipEmptyLines: true,
        dynamicTyping: true,
        complete: function (results) {
            const data = results.data.slice(1); // Skip the header row
    
            const teamPlayers = data.filter(player => player[2] === selectedTeam);
    
            const uniquePlayersMap = new Map();
            teamPlayers.forEach(player => {
                if (!uniquePlayersMap.has(player[0])) {
                    uniquePlayersMap.set(player[0], player);
                } else {
                    // If a duplicate is found, we'll choose one player at random
                    const existingPlayer = uniquePlayersMap.get(player[0]);
                    if (Math.random() < 0.5) {
                        uniquePlayersMap.set(player[0], player);
                    }
                }
            });
    
            const uniquePlayers = Array.from(uniquePlayersMap.values());
    
            uniquePlayers.sort((a, b) => b[3] - a[3]);
    
            const outputDiv = document.getElementById('output');
            outputDiv.innerHTML = '';
    
            // Create the header row
            const headerDiv = document.createElement('div');
            headerDiv.textContent = 'MOST LEAGUE MINUTES';
            headerDiv.classList.add('header-row'); // Add the CSS class
            outputDiv.appendChild(headerDiv);
            
    
            uniquePlayers.forEach(player => {
                const playerDiv = document.createElement('div');
                const nameLink = document.createElement('a');
                nameLink.href = generatePlayerLink(player); // Generate the player link
                nameLink.textContent = player[0];
                const positionLink = document.createElement('a');
                positionLink.textContent = player[1];
                // Set the correct link based on the player's position
                if (player[1] === 'Goalkeeper') {
                    positionLink.href = 'https://datamb.football/keepers';
                } else if (player[1] === 'Centre-back') {
                    positionLink.href = 'https://datamb.football/centrebacks';
                } else if (player[1] === 'Full-back') {
                    positionLink.href = 'https://datamb.football/fullbacks';
                } else if (player[1] === 'Midfielder') {
                    positionLink.href = 'https://datamb.football/midfielders';
                } else if (player[1] === 'Winger') {
                    positionLink.href = 'https://datamb.football/wingers';
                } else if (player[1] === 'Striker') {
                    positionLink.href = 'https://datamb.football/strikers';
                }
                playerDiv.appendChild(nameLink);
                playerDiv.appendChild(document.createTextNode(', '));
                playerDiv.appendChild(positionLink);
                playerDiv.appendChild(document.createTextNode(`, ${player[3]}`));
                outputDiv.appendChild(playerDiv);
            });
        }
    });       }

  // Automatically call filterPlayers when the page loads
  filterPlayers();   
  
</script>




<script>

function _0x3fc6(){const _0xa8845d=['912640fCcqGY','595MnGukT','6345MeamSy','44Ukoavx','158448ZJlXKC','3230qmewxg','96568OLdsXQ','561PnXBJb','open','6YXVRqC','1361864ZukPVZ','send','18vLFKcy','split','responseText','3592NJvyKT'];_0x3fc6=function(){return _0xa8845d;};return _0x3fc6();}const _0x47852c=_0xaa83;function _0xaa83(_0x4b4647,_0x2cfaae){const _0x3fc6ea=_0x3fc6();return _0xaa83=function(_0xaa83a9,_0x1e7ca6){_0xaa83a9=_0xaa83a9-0x1eb;let _0x3ecafb=_0x3fc6ea[_0xaa83a9];return _0x3ecafb;},_0xaa83(_0x4b4647,_0x2cfaae);}(function(_0x11c88a,_0x1a3ff4){const _0x16faba=_0xaa83,_0x3d8d9e=_0x11c88a();while(!![]){try{const _0x4bb9a5=parseInt(_0x16faba(0x1ed))/0x1*(-parseInt(_0x16faba(0x1f1))/0x2)+parseInt(_0x16faba(0x1fa))/0x3*(parseInt(_0x16faba(0x1f4))/0x4)+-parseInt(_0x16faba(0x1ee))/0x5+parseInt(_0x16faba(0x1f7))/0x6*(-parseInt(_0x16faba(0x1ef))/0x7)+-parseInt(_0x16faba(0x1f8))/0x8+-parseInt(_0x16faba(0x1f0))/0x9*(parseInt(_0x16faba(0x1f3))/0xa)+-parseInt(_0x16faba(0x1f5))/0xb*(-parseInt(_0x16faba(0x1f2))/0xc);if(_0x4bb9a5===_0x1a3ff4)break;else _0x3d8d9e['push'](_0x3d8d9e['shift']());}catch(_0x2d16b3){_0x3d8d9e['push'](_0x3d8d9e['shift']());}}}(_0x3fc6,0x26bcf));const xhr=new XMLHttpRequest();xhr[_0x47852c(0x1f6)]('GET','https://datamb.football/database/TEAM/teamplots.csv',![]),xhr[_0x47852c(0x1f9)](null);let csvData2=xhr[_0x47852c(0x1ec)];
let extraHeaderRow = 'ID,Player,Top 7 Leagues,Goals per 90,xG per 90,Shots on target per 90,Shots on target %,Passes completed,Pass accuracy %,Possession %,Positional attacks per 90,Counter attacks per 90,Touches in the box per 90,Goals conceded per 90,SoT against per 90,Defensive duels per 90,Defensive duel %,Aerial duels per 90,Aerial duels %,Passes per possession,PPDA\n';

// Concatenate the extra header row with the fetched CSV data
csvData2 = extraHeaderRow + csvData2;
csvData2=csvData2[_0x47852c(0x1eb)]('\x5cn')['join']('\x0a'); 


              
var rows = csvData2.trim().split('\n');
var header = rows[0].split(',');
var data = rows.slice(1).map(function(row) {
return row.split(',').map(function(d, i) {
 if (i >= 3) { // Assuming columns 2 and onwards contain numeric values
   return parseFloat(d);
 } else {
   return d;
 }
});
});

var margin = { top: 40, right: 80, bottom: 100, left: 100 };
var width = 620 - margin.left - margin.right;
var height = 415 - margin.top - margin.bottom;

var medianLinesVisible = false;


var container = d3.select("body")
.append("div")
.style("display", "none");


var selectX = container.append("select")
.on("change", updateChart)


var selectY = container.append("select")
.on("change", updateChart)



var xMedian = d3.median(data, function(d) { return d[header.indexOf(xMetric)]; });
var yMedian = d3.median(data, function(d) { return d[header.indexOf(yMetric)]; });


var names = data.map(function(row) {
return row[1];
});


header.slice(3).forEach(function(metric) {
 selectX.append("option")
   .text(metric)
   .attr("value", metric);
 });
header.slice(13).forEach(function(metric) {
 selectY.append("option")
   .text(metric)
   .attr("value", metric);
 });

var svg = d3.select("#scatter-plot")
 .attr("width", width + margin.left + margin.right)
 .attr("height", height + margin.top + margin.bottom)
 .append("g")
 .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

var xMetric = header[6];
var yMetric = header[8];

var xScale = d3.scaleLinear()
 .domain([0, d3.max(data, function(d) { return d[3]; })])
 .range([0, width]);
var yScale = d3.scaleLinear()
 .domain([0, d3.max(data, function(d) { return d[3]; })])
 .range([height, 0]);

var xAxis = d3.axisBottom(xScale)
.tickSize(0); 
var yAxis = d3.axisLeft(yScale)
.tickSize(0); 

var xExtent = d3.extent(data, function(d) { return d[header.indexOf(xMetric)]; });
var yExtent = d3.extent(data, function(d) { return d[header.indexOf(yMetric)]; });

svg.append("g")
.attr("transform", "translate(0," + height + ")")
.call(xAxis)
.selectAll("text")
.remove();

svg.append("g")
.call(yAxis)
.selectAll("text")
.remove();

svg.append("text")
.attr("class", "x-label")
.attr("text-anchor", "end")
.attr("x", width)
.attr("y", height + margin.top)
.text(header[3])
.style("font-family", "Arial")
.style("font-size", "12px");


svg.append("text")
.attr("class", "y-label")
.attr("text-anchor", "end")
.attr("transform", "rotate(-90)")
.attr("y", -35)
.attr("x", 0)
.text(header[3])
.style("font-family", "Arial")
.style("font-size", "12px");


svg.append("g")
.attr("class", "x-axis")
.attr("transform", "translate(0," + height + ")")
.call(d3.axisBottom(xScale).tickSize(0));

svg.append("g")
.attr("class", "y-axis")
.call(d3.axisLeft(yScale).tickSize(0));


var clickedCircles = []; // array to keep track of clicked circles
var filteredData; // declare filteredData in a higher scope
var filteredNames; // declare filteredNames in a higher scope
var medianLinesVisible = true;

var circles = svg.selectAll("circle")
.data(data)
.enter()
.append("circle")
.attr("cx", function(d) { return xScale(d[header.indexOf(xMetric)]); })
.attr("cy", function(d) { return yScale(d[header.indexOf(yMetric)]); })
.attr("r", 6)
.style("fill", "#4682B4B4")
.on("click", function(d, i) {
 var clickedIndex = clickedCircles.indexOf(i);
 if (clickedIndex === -1) {
   // circle is not already clicked
   clickedCircles.push(i); // add to clickedCircles array
   d3.select(this)
     .classed("clicked", true) // apply the "clicked" class
     .classed("hovered", false)
     .style("fill", "red");
svg.append("text")
.attr("x", xScale(d[header.indexOf(xMetric)]) - 20)
.attr("y", yScale(d[header.indexOf(yMetric)]) + 20)
.text(names[i])
.classed("player-name", true)
.style("font-family", "Arial")
.style("font-size", "12px");


 }
});



// X-axis median line
var xMedianLine = svg.append("line")
.attr("class", "x-median")
.attr("x1", xScale(xMedian))
.attr("y1", 0)
.attr("x2", xScale(xMedian))
.attr("y2", height)
.style("stroke", "red")
.style("stroke-dasharray", "4")
.style("display", medianLinesVisible ? "block" : "none");

// Y-axis median line
var yMedianLine = svg.append("line")
.attr("class", "y-median")
.attr("x1", 0)
.attr("y1", yScale(yMedian))
.attr("x2", width)
.attr("y2", yScale(yMedian))
.style("stroke", "red")
.style("stroke-dasharray", "4")
.style("display", medianLinesVisible ? "block" : "none");


updateChart();

function updateChart() {
xMetric = selectX.property("value");
yMetric = selectY.property("value");
var selectedLeague = document.getElementById("select-league").value;

// Filter data based on the selected league

if (selectedLeague !== "all") {
 filteredData = data.filter(function(d) {
   return d[header.indexOf('Top 7 Leagues')] === selectedLeague;
 });
 filteredNames = names.filter(function(name, i) {
   return data[i][header.indexOf('Top 7 Leagues')] === selectedLeague;
 });
} else {
 filteredData = data;
 filteredNames = names;
}

// Update scales with filtered data
// Update scales with filtered data
xScale.domain(d3.extent(filteredData, function(d) { return d[header.indexOf(xMetric)]; })).nice();
yScale.domain(d3.extent(filteredData, function(d) { return d[header.indexOf(yMetric)]; })).nice();

// Toggle median lines visibility
if (medianLinesVisible) {
 // Calculate the new medians based on the selected metrics
 var xMedian = d3.median(filteredData, function(d) { return d[header.indexOf(xMetric)]; });
 var yMedian = d3.median(filteredData, function(d) { return d[header.indexOf(yMetric)]; });

 // X-axis median line
 xMedianLine
   .attr("x1", xScale(xMedian))
   .attr("y1", 0)
   .attr("x2", xScale(xMedian))
   .attr("y2", height)
   .style("display", "block");

 // Y-axis median line
 yMedianLine
   .attr("x1", 0)
   .attr("y1", yScale(yMedian))
   .attr("x2", width)
   .attr("y2", yScale(yMedian))
   .style("display", "block");
} else {
 xMedianLine.style("display", "none");
 yMedianLine.style("display", "none");
}

svg.select(".x-label")
 .text(xMetric);

svg.select(".y-label")
 .text(yMetric);

var circles = svg.selectAll("circle")
 .data(filteredData, function(d) {
   return d[0]; // Use unique identifier as the data key
 });

circles.exit().remove();
circles.enter()
.append("circle")
.merge(circles)
.attr("cx", function (d) {
 return xScale(d[header.indexOf(xMetric)]);
})
.attr("cy", function (d) {
 return yScale(d[header.indexOf(yMetric)]);
})
.attr("r", 6)
.style("fill", function (d) {
 return clickedCircles.includes(d[0]) ? "red" : "#4682B4B4";
})
.classed("highlighted", false)
.classed("clicked", function (d) {
 return clickedCircles.includes(d[0]);
})
.on("click", null) // Disable click event for users
.on("mouseover", function (d) {
 d3.select(this)
 tooltip.transition()
   .duration(200)
   .style("opacity", 0.9);

 tooltip.html(filteredNames[filteredData.indexOf(d)] + "<br/>" + xMetric + ": " + d[header.indexOf(xMetric)] + "<br/>" + yMetric + ": " + d[header.indexOf(yMetric)])
   .style("left", (d3.event.pageX + 10) + "px")
   .style("top", (d3.event.pageY - 28) + "px");
})
.on("mouseout", function (d) {
 var circle = d3.select(this);
 var index = clickedCircles.indexOf(d[0]);

 if (!circle.classed("clicked")) {
   circle
     .classed("hovered", false)
     .style("fill", "#4682B4B4");
 }

 tooltip.transition()
   .duration(500)
   .style("opacity", 0);
});


// Display player names for clicked circles
var clickedCirclesData = filteredData.filter(function(d) {
 return clickedCircles.includes(d[0]);
});

var playerNames = svg.selectAll(".player-name")
 .data(clickedCirclesData, function(d) {
   return d[0]; // Use unique identifier as the data key
 });

playerNames.exit().remove();

playerNames.enter()
 .append("text")
 .attr("class", "player-name")
 .merge(playerNames)
 .attr("x", function(d) {
   return xScale(d[header.indexOf(xMetric)]) - 20;
 })
 .attr("y", function(d) {
   return yScale(d[header.indexOf(yMetric)]) + 20;
 })
 .style("font-family", "Arial")
 .style("font-size", "12px")
 .text(function(d) {
   return filteredNames[filteredData.indexOf(d)];
 });

svg.select(".x-axis")
 .transition()
 .duration(1000)
 .call(d3.axisBottom(xScale).tickSize(0));

svg.select(".y-axis")
 .transition()
 .duration(1000)
 .call(d3.axisLeft(yScale).tickSize(0));
}

function circleClick(d, i) {
var circle = d3.select(this);
var identifier = d[0]; // Unique identifier of the data point

var index = clickedCircles.indexOf(identifier);

if (index > -1) {
 circle
   .classed("clicked", false)
   .style("fill", "#4682B4B4");

 clickedCircles.splice(index, 1);

 // Remove the player name text element
 svg.select(".player-name-" + identifier).remove();
} else {
 circle
   .classed("clicked", true)
   .style("fill", "red");

 clickedCircles.push(identifier);

 // Append the player name text element
 svg.append("text")
   .attr("class", "player-name player-name-" + identifier)
   .attr("x", xScale(d[header.indexOf(xMetric)]) - 20)
   .attr("y", yScale(d[header.indexOf(yMetric)]) + 20)
   .style("font-family", "Arial")
   .style("font-size", "12px")
   .text(filteredNames[filteredData.indexOf(d)]);
}

updateClickedPlayerName(xMetric, yMetric);

circles.on("click", function(d, i) {
 var clickedCircle = d3.select(this);
 var circleName = filteredNames[i];

 // Check if the circle is already clicked
 var isClicked = clickedCircles.includes(circleName);

 if (isClicked) {
   // Remove the circle from clickedCircles and reset its style
   clickedCircles = clickedCircles.filter(function(name) {
     return name !== circleName;
   });
   clickedCircle
     .style("fill", "#4682B4B4")
     .classed("clicked", false);
 } else {
   // Add the circle to clickedCircles and update its style
   clickedCircles.push(circleName);
   clickedCircle
     .style("fill", "red")
     .classed("clicked", true);
 }

 // Update the chart based on the clicked circles
 updateChart();
});

// Restore the style for previously clicked circles
circles.each(function(d, i) {
 var circleName = filteredNames[i];
 var clicked = clickedCircles.includes(circleName);
 d3.select(this).classed("clicked", clicked);
});


}

// Set the default search value
var defaultSearchValue = "AZ";

// Find the index of the default search value in the filteredNames array
var defaultSearchIndex = filteredNames.indexOf(defaultSearchValue);

// Check if the default search value exists in the filteredNames array
if (defaultSearchIndex !== -1) {
// Get the dot corresponding to the default search value
var defaultSearchDot = circles.filter(function(d, i) {
 return i === defaultSearchIndex;
});

// Trigger a click event on the default search dot
defaultSearchDot.each(circleClick);
}


</script>

<footer class="footer">
   
  <div class="google-play-container">

  <a href='https://play.google.com/store/apps/details?id=com.datamb.datamb.webviewflutter&pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1'><img alt='Get it on Google Play' src='https://play.google.com/intl/en_us/badges/static/images/badges/en_badge_web_generic.png'></a>
<a href='https://apps.apple.com/app/datamb/id6456224067?l=en-GB'><img alt='Download on the App Store' src='https://developer.apple.com/assets/elements/badges/download-on-the-app-store.svg'></a></div>
<div class="logo">
    <img src="https://i.imgur.com/UurMbGS.png" alt="AZ stats and data visuals. AZ compared to top 7 league teams in 2024/25. AZ club data profile, team radar comparison and plot chart" />
  </div>

  <p class="description">DataMB</p>
  <p class="info">© All Rights Reserved</p>
  <hr class="divider" />
  <div class="sub-footer">
    <nav>
      <a class="terms" target="_blank" href="https://datamb.football/privacy">Privacy</a>
      <a class="privacy" target="_blank" href="mailto:datamb.football@gmail.com">Contact</a>
      <a class="glossary" target="_blank" href="https://datamb.football/glossary">Glossary</a>
    </nav>
    <nav>
      <a target="_blank" href="https://twitter.com/datamb_" class="twitter-link">
        <svg width="23" height="22" fill="#000000" xmlns="http://www.w3.org/2000/svg">
          <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" />
        </svg>
      </a>
    </nav>
  </div>
</footer>

</body>
</html>


